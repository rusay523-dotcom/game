<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–Ø –ö–∞—á–æ–∫ RPG</title>
<style>
body { margin:0; font-family: Arial,sans-serif; background: url('gym_bg.png') center/cover no-repeat; height:100vh; color:white; text-align:center; display:flex; justify-content:center; align-items:center;}
.game {position:relative; width:100%; max-width:400px; padding:20px; box-sizing:border-box;}
#hero {width:120px; position:absolute; top:40%; left:30%; transform:translate(-50%,-50%) scale(1); transition: transform 0.2s ease, box-shadow 0.2s ease;}
#hero.power { transform: translate(-50%, -50%) scale(1.2) rotate(-5deg);}
.stats { margin-top:280px; font-size:18px; }
.buttons { margin-top:10px; width:100%; max-width:320px;}
button { width:100%; padding:12px; margin:6px 0; font-size:16px; border-radius:10px; border:none; cursor:pointer;}
.train { background:#2196f3; color:white;}
.energy { background:#ff9800; color:white;}
.event { background:#4caf50; color:white;}
.pvp { background:#e91e63; color:white;}
.leaderboard { margin-top:10px; font-size:16px; text-align:left; }
.progress-container { width:100%; background:rgba(255,255,255,0.2); border-radius:10px; margin-top:5px; height:15px;}
.progress-bar { width:0%; height:100%; background:#ffeb3b; border-radius:10px; transition: width 0.3s ease; }
</style>
</head>
<body>

<div class="game">
<h1>üí™ –ö–∞—á–æ–∫ RPG</h1>
<img id="hero" src="hero.png" alt="–ü–µ—Ä—Å–æ–Ω–∞–∂">

<div class="stats">
üî• –°–∏–ª–∞: <span id="strength">1</span><br>
üèãÔ∏è‚Äç‚ôÇÔ∏è –í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å: <span id="stamina">1</span><br>
‚ö° –õ–æ–≤–∫–æ—Å—Ç—å: <span id="agility">1</span><br>
üèÜ –û—á–∫–∏: <span id="points">0</span>
<div class="progress-container">
    <div id="strengthBar" class="progress-bar"></div>
</div>
</div>

<div class="buttons">
<button class="train" onclick="train()">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
<button class="energy" onclick="energy()">–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫ +2</button>
<button class="event" onclick="randomEvent()">–°–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ</button>
<button class="pvp" onclick="battle()">–°—Ä–∞–∑–∏—Ç—å—Å—è —Å –≤—Ä–∞–≥–æ–º</button>
</div>

<div class="leaderboard">
<h2>üèÖ –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤</h2>
<ol id="leaderboardList"></ol>
</div>
</div>

<script>
let strength=1, stamina=1, agility=1, points=0;
const hero=document.getElementById("hero");
const strengthEl=document.getElementById("strength");
const staminaEl=document.getElementById("stamina");
const agilityEl=document.getElementById("agility");
const pointsEl=document.getElementById("points");
const leaderboardList=document.getElementById("leaderboardList");
const strengthBar=document.getElementById("strengthBar");

function updateHeroVisual(){
    // —Ä–æ—Å—Ç –º—ã—à—Ü —á–µ—Ä–µ–∑ scale
    let scale = 1 + strength*0.05;
    hero.style.transform=`translate(-50%, -50%) scale(${scale})`;
    // —Ç–µ–Ω—å –∏ —Å–≤–µ—á–µ–Ω–∏–µ –ø—Ä–∏ —Å–∏–ª–µ > 20
    if(strength>=20){
        hero.style.boxShadow=`0 0 20px 5px yellow`;
    } else hero.style.boxShadow=`0 0 0px transparent`;
}

function animateHero(){ hero.classList.add("power"); setTimeout(()=>hero.classList.remove("power"),200);}
function train(){ strength++; stamina++; agility++; points++; updateStats(); animateHero(); updateHeroVisual();}
function energy(){ strength+=2; stamina+=2; agility+=2; points++; updateStats(); animateHero(); updateHeroVisual();}
function randomEvent(){
    const e=Math.floor(Math.random()*3);
    if(e==0){strength+=3; alert("üí• –°–∏–ª–∞ +3!");}
    else if(e==1){stamina+=3; alert("üèãÔ∏è‚Äç‚ôÇÔ∏è –í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å +3!");}
    else{agility+=3; alert("‚ö° –õ–æ–≤–∫–æ—Å—Ç—å +3!");}
    points+=2; updateStats(); animateHero(); updateHeroVisual();
}

function updateStats(){
    strengthEl.textContent=strength;
    staminaEl.textContent=stamina;
    agilityEl.textContent=agility;
    pointsEl.textContent=points;
    let progressPercent=Math.min((strength%10)*10,100);
    strengthBar.style.width=progressPercent+"%";
}

function saveLeaderboard(){
    let leaderboard=JSON.parse(localStorage.getItem('leaderboard')||"[]");
    leaderboard.push({points,strength,stamina,agility});
    leaderboard.sort((a,b)=>b.points-a.points);
    if(leaderboard.length>5) leaderboard=leaderboard.slice(0,5);
    localStorage.setItem('leaderboard',JSON.stringify(leaderboard));
    renderLeaderboard();
}

function renderLeaderboard(){
    const leaderboard=JSON.parse(localStorage.getItem('leaderboard')||"[]");
    leaderboardList.innerHTML="";
    leaderboard.forEach(entry=>{
        const li=document.createElement("li");
        li.textContent=`üèÜ ${entry.points} | üí™ ${entry.strength} | üèãÔ∏è‚Äç‚ôÇÔ∏è ${entry.stamina} | ‚ö° ${entry.agility}`;
        leaderboardList.appendChild(li);
    });
}

// –¢—É—Ç –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å PvP –∏ –≤—Ä–∞–≥–æ–≤ –∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö

hero.onclick=train;
updateHeroVisual();
renderLeaderboard();
</script>

</body>
</html>
